---
title: Known issues with the Microsoft PROSE Code Accelerator SDK - Python
ms.date: 09/24/2018
ms.topic: conceptual
ms.service: non-product-specific
author: simmdan
ms.author: dsimmons
description: These are known issues with the current release of PROSE Code Accelerator for Python.
---

# Known issues with the Microsoft PROSE Code Accelerator SDK
The following are issues that the PROSE team is aware of with the 1.0.0 release of the Microsoft PROSE Code Accelerator SDK.  We are
working to fix them in a future release.  If you encounter issues not on this list, please report them on the
[prose-codeaccelerator GitHub repository](https://github.com/Microsoft/prose-codeaccelerator/issues).

 
## ReadFwfBuilder

### PySpark:
- Calling `ReadFwfLearnResult.data()` for a file with `\r\n` or `\r` line separators will cause `NameError: name
  'StringType' is not defined` exception.  As a workaround, add the following code to your session:
  ```python
  import prose.codeaccelerator as cx
  from pyspark.sql.types import StringType

  cx._functions.StringType = StringType
  ```
  
## ReadJsonBuilder

### Pandas:
- If the JSON has a single top level array of values (e.g., `{"top": [1, 2]}`), pandas' `json_normalize` throws
  `TypeError: must be str, not int`. GitHub issue: https://github.com/pandas-dev/pandas/issues/21536. This has been
  fixed since pandas 0.23.2, but Azure Data Studio uses pandas 0.22.0

- If the JSON has a single object of object of array, for instance:

  ```json
  {
      "name": "alan smith",
      "info": {
          "phones": [{
              "area": 111,
              "number": 2222
          }, {
              "area": 333,
              "number": 4444
          }]
      }
  }
  ```
  pandas' `json_normalize` throws `TypeError: string indices must be integers`. GitHub issue:
  https://github.com/pandas-dev/pandas/issues/22706

### PySpark:
- If the JSON is an array of values (e.g., `[1, 2, 3]`), `spark.read.json` throws `AnalysisException: 'Since Spark 2.3, the
  queries from raw JSON/CSV files are disallowed when the referenced columns only include the internal corrupt record
  column`. Note that array of objects is not affected.

## DetectTypesBuilder

### Pandas:
- If the code generated by the datatype detection APIs ever throws a `ValueError` (this could occur due to bugs in the
  datatype detection APIs, or due to data values of a form different than those that were encountered during learning),
  then it could result in a stack overflow from unbounded recursion. This is due to the way the `DataFrame.transform`
  function works in pandas: `ValueError` is used internally to signal a failure and handle it. In the process, it ends
  up with an unbounded recursion.



